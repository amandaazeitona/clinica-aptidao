webpackJsonp([0],{1487:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){var t={children:h.default.node,delay:h.default.number,wrapperClassName:h.default.string,targetWrapperClassName:h.default.string,mode:h.default.oneOf(["mount","visibility"]),onExit:h.default.func},n={mode:"mount"},o=function(n){function o(e){r(this,o);var t=a(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.handleMouseMove=t.handleMouseMove.bind(t),t.handleMouseLeave=t.handleMouseLeave.bind(t),t.state={isHovering:!1},t}return l(o,n),u(o,[{key:"shouldComponentUpdate",value:function(e,t){var n=!(0,s.default)(this.props,e),o=this.state.isHovering!==t.isHovering;return n||o}},{key:"handleMouseMove",value:function(){var e=this;this.state.isHovering||this.hoverTimerId||(this.hoverTimerId=window.setTimeout(function(){e.hoverTimerId=null,e.setState({isHovering:!0})},this.props.delay))}},{key:"handleMouseLeave",value:function(){this.hoverTimerId&&(window.clearTimeout(this.hoverTimerId),this.hoverTimerId=null),this.setState({isHovering:!1},this.props.onExit)}},{key:"renderHoverContents",value:function(){var n=this.state.isHovering,o=this.props,r=o.mode,a=o.targetWrapperClassName,l=(0,f.default)(this.props,Object.keys(t));return"visibility"===r?_.default.createElement("span",{className:a,style:{visibility:n?"visible":"hidden"}},_.default.createElement(e,Object.assign({},l))):n?_.default.createElement(e,Object.assign({},l)):null}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.wrapperClassName;return _.default.createElement("span",{className:n,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave},this.renderHoverContents(),t)}}]),o}(m.Component);return o.displayName="WrappedHoverComponent",o.propTypes=t,o.defaultProps=n,o}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.default=i;var c=n(525),s=o(c),d=n(149),f=o(d),p=n(2),h=o(p),m=n(1),_=o(m)},1488:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1510);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1489:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1490);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1490:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(8),c=o(u),s=n(2),d=o(s),f=n(1),p=o(f),h=n(11),m=n(28),_=n(29),v=n(519),y=n(19),b=n(51),g=n(33),w=o(g),P=n(1491),k=n(1492),C=o(k),E={isLoggedIn:d.default.bool.isRequired},O=t.Footer=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"renderFooterMain",value:function(){var e=this.props.isLoggedIn;return p.default.createElement("div",{className:C.default.footerMain},p.default.createElement("div",{className:C.default.linkContainer},p.default.createElement("div",{className:C.default.col4},p.default.createElement("span",{className:C.default.footerMainHeader},"Unsplash"),p.default.createElement("p",{className:C.default.footerMainParagraph},"Beautiful,"," ",p.default.createElement(m.Link,{to:"/license",rel:"nofollow"},"free images")," ","gifted by the world’s most generous community of photographers.")),p.default.createElement("div",{className:C.default.offset1}),e?this.renderInfoLinks():this.renderInfoLinksLoggedOut(),e?this.renderConnectLinks():this.renderTrendingPhotosLoggedOut(),e?this.renderWhatsNewLinks():this.renderWallpapersLoggedOut()))}},{key:"renderInfoLinks",value:function(){var e=this;return p.default.createElement("div",{className:C.default.col2},p.default.createElement("span",{className:C.default.footerMainHeader},"Info"),p.default.createElement("ul",{className:(0,c.default)(C.default.footerMainNav,"list-unstyled")},P.LOGGED_IN_INFO_LINKS.map(function(t){return p.default.createElement("li",{className:C.default.footerMainNavItem,key:t.title},e.renderLink(t))})))}},{key:"renderInfoLinksLoggedOut",value:function(){var e=this;return p.default.createElement("div",{className:C.default.col2},p.default.createElement("span",{className:C.default.footerMainHeader},"Info"),p.default.createElement("ul",{className:(0,c.default)(C.default.footerMainNav,"list-unstyled")},P.LOGGED_OUT_INFO_LINKS.map(function(t){return p.default.createElement("li",{className:C.default.footerMainNavItem,key:t.title},e.renderLink(t))})))}},{key:"renderConnectLinks",value:function(){var e=this;return p.default.createElement("div",{className:C.default.col2},p.default.createElement("span",{className:C.default.footerMainHeader},"Connect"),p.default.createElement("ul",{className:(0,c.default)(C.default.footerMainNav,"list-unstyled")},P.CONNECT_LINKS.map(function(t){return p.default.createElement("li",{className:C.default.footerMainNavItem,key:t.title},e.renderLink(t))})))}},{key:"renderTrendingPhotosLoggedOut",value:function(){var e=this;return p.default.createElement("div",{className:C.default.col3},p.default.createElement("span",{className:C.default.footerMainHeader},"Trending Searches"),p.default.createElement("ul",{className:(0,c.default)(C.default.footerMainNav,"list-unstyled")},P.TRENDING_LINKS.map(function(t){return p.default.createElement("li",{className:C.default.footerMainNavItem,key:t.title},e.renderLink(t))})))}},{key:"renderWhatsNewLinks",value:function(){var e=this;return p.default.createElement("div",{className:C.default.col3},p.default.createElement("span",{className:C.default.footerMainHeader},"What’s New"),p.default.createElement("ul",{className:(0,c.default)(C.default.footerMainNav,"list-unstyled")},P.WHATS_NEW_LINKS.map(function(t){return p.default.createElement("li",{className:C.default.footerMainNavItem,key:t.title},e.renderLink(t))})))}},{key:"renderWallpapersLoggedOut",value:function(){var e=this;return p.default.createElement("div",{className:C.default.col2},p.default.createElement("span",{className:C.default.footerMainHeader},"Wallpapers"),p.default.createElement("ul",{className:(0,c.default)(C.default.footerMainNav,"list-unstyled")},P.WALLPAPER_LINKS.map(function(t){return p.default.createElement("li",{className:C.default.footerMainNavItem,key:t.title},e.renderRouterLink(t))})))}},{key:"renderRouterLink",value:function(e){var t=e.title,n=e.url,o=e.noFollow,r=void 0!==o&&o;return p.default.createElement(m.Link,{to:n,rel:r?"nofollow":void 0},t)}},{key:"renderLink",value:function(e){var t=e.title,n=e.url,o=e.noFollow,r=void 0!==o&&o,a=e.externalLink,l=void 0!==a&&a,i=l?(0,y.trackUrl)(n):n;return p.default.createElement("a",{href:i,rel:r?"nofollow":void 0},t)}},{key:"renderFooterSub",value:function(){var e=this.props.isLoggedIn;return p.default.createElement("div",{className:C.default.footerSub},p.default.createElement("div",{className:C.default.col6},p.default.createElement(m.Link,{to:"/",title:"Home — Unsplash",className:C.default.footerSubLogoLink},p.default.createElement(w.default,{type:_.SvgType.logo,className:C.default.footerSubLogo})),p.default.createElement("span",{className:C.default.footerSlogan},"Make something awesome.")),p.default.createElement("div",{className:C.default.footerRightSide},e?null:this.renderSocialIcons()))}},{key:"renderSocialLink",value:function(e){var t=(0,v.getSocialData)(e),n=(0,y.trackUrl)(t.url);return p.default.createElement("li",{className:C.default.socialLink},p.default.createElement("a",{title:"Follow Unsplash on "+t.label,target:"_blank",rel:"noopener noreferrer",href:n},p.default.createElement(w.default,{className:C.default.socialIcon,type:t.icon,width:24,height:24}),p.default.createElement("span",{className:C.default.socialText},"Unsplash ",t.label)))}},{key:"renderSocialIcons",value:function(){return p.default.createElement("div",null,p.default.createElement("ul",{className:C.default.socialLinksContainer},this.renderSocialLink("twitter"),this.renderSocialLink("facebook"),this.renderSocialLink("medium"),this.renderSocialLink("instagram")))}},{key:"render",value:function(){return p.default.createElement("footer",{className:C.default.footerGlobal},this.renderFooterMain(),this.renderFooterSub())}}]),t}(f.Component),T=function(e){return{isLoggedIn:(0,b.getIsLoggedIn)(e)}};t.default=(0,h.connect)(T)(O),O.propTypes=E},1491:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=t.SUPPORT_EMAIL="mailto:support@unsplash.com?subject=Where%20have%20you%20been%20all%20my%20life%3F";t.LOGGED_IN_INFO_LINKS=[{title:"Contact Us",url:o,nofollow:!0},{title:"HD Wallpapers",url:"/wallpaper"},{title:"Explore",url:"/explore"},{title:"Privacy Policy",url:"/privacy"},{title:"Terms",url:"/terms",nofollow:!0},{title:"Security",url:"/security",nofollow:!0},{title:"Developers/API",url:"/developers"},{title:"Help",url:"https://community.unsplash.com/help",nofollow:!0}],t.LOGGED_OUT_INFO_LINKS=[{title:"Explore",url:"/explore"},{title:"Popular Collections",url:"/explore/collections"},{title:"Wallpaper",url:"/wallpaper"},{title:"Unsplash for Chrome",url:"https://instant.unsplash.com/",nofollow:!0,externalLink:!0},{title:"Privacy Policy",url:"/privacy",nofollow:!0},{title:"Terms",url:"/terms",nofollow:!0},{title:"Security",url:"/security",nofollow:!0},{title:"Developers/API",url:"/developers"},{title:"Contact Us",url:o},{title:"Help",url:"https://community.unsplash.com/help",nofollow:!0,externalLink:!0}],t.CONNECT_LINKS=[{title:"Twitter",url:"https://twitter.com/unsplash",externalLink:!0},{title:"Facebook",url:"https://facebook.com/unsplash",externalLink:!0},{title:"Medium",url:"https://medium.com/unsplash",externalLink:!0},{title:"Instagram",url:"https://instagram.com/unsplash",externalLink:!0}],t.TRENDING_LINKS=[{title:"Love pictures",url:"/search/photos/love"},{title:"Dog pictures",url:"/search/photos/dog"},{title:"Cat pictures",url:"/search/photos/cat"},{title:"Beach pictures",url:"/search/photos/beach"},{title:"White backgrounds",url:"/collections/1127156/white-background"},{title:"Happy Thanksgiving images",url:"/search/photos/happy-thanksgiving"},{title:"Happy Mother's Day images",url:"/search/photos/happy-mothers-day"},{title:"Happy New Year images",url:"/search/photos/happy-new-year"},{title:"Happy birthday images",url:"/search/photos/happy-birthday"}],t.WHATS_NEW_LINKS=[{title:"Hello, Unsplash, Inc.",url:"https://medium.com/unsplash/hello-unsplash-inc-ce02b1c79d23",noFollow:!0,externalLink:!0},{title:"Unsplash turns 3",url:"https://1095.unsplash.com/",noFollow:!0,externalLink:!0},{title:"Buy the Unsplash Book",url:"https://book.unsplash.com/",noFollow:!0,externalLink:!0},{title:"Unsplash Filters for Polarr",url:"https://unsplash.polarr.co/",noFollow:!0,externalLink:!0},{title:"Unsplash 4.0 Release",url:"https://medium.com/swlh/announcing-unsplash-4-0-3421b47d8f88",noFollow:!0,externalLink:!0},{title:"Unsplash Instant for Chrome",url:"https://instant.unsplash.com/",noFollow:!0,externalLink:!0},{title:"Unsplash Book Kickstarter",url:"https://www.kickstarter.com/projects/mikaelcho/the-unsplash-book",noFollow:!0,externalLink:!0},{title:"Unsplash Source",url:"https://source.unsplash.com/",noFollow:!0,externalLink:!0}],t.WALLPAPER_LINKS=[{title:"Cool Wallpapers",url:"/wallpaper/1111678/cool-wallpapers"},{title:"Cute Wallpapers",url:"/wallpaper/1111680/cute-wallpapers"},{title:"iPhone Wallpaper",url:"/wallpaper/1065412/iphone-wallpapers"},{title:"HD Wallpapers",url:"/wallpaper/1065976/hd-wallpapers"},{title:"Christmas Wallpaper",url:"/wallpaper/1066273/christmas-wallpapers"},{title:"Tumblr Wallpaper",url:"/wallpaper/1111644/tumblr-wallpapers"},{title:"Black Wallpapers",url:"/wallpaper/1101680/black-wallpapers"},{title:"Galaxy Wallpapers",url:"/wallpaper/1065374/galaxy-wallpapers"}]},1492:function(e,t){e.exports={container:"_2sCnE PrOBO _1CR66","sm-col":"_6_Gu-","sm-col-2":"_1F-RO","sm-col-4":"q9lsa","sm-col-6":"_2cVF0","md-col-1":"_1yU51","md-col-3":"_2-VcX",clearfix:"_2KLco","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",colorGrey:"#999",colorLightBlack:"#111",lineHeightCopy:"_13hUA",fontWeightBold:"_2svCU",visuallyHidden:"_2iX7Z",footerGlobal:"_1f2gP _2sCnE PrOBO _1CR66",footerMainHeader:"_1vshC _2svCU _13hUA",footerSharedStyles:"_1SR6k",footerMainParagraph:"lTb2N _1SR6k",footerMainNav:"nl-Wg _1SR6k",footerMainNavItem:"_2p2mU",footerSub:"h2R3j _1SR6k",footerSubLogoLink:"_1A2Ps",footerSubLogo:"QFeEP",linkContainer:"_2AHtx _2KLco",offset1:"_2gSuc _6_Gu- _1yU51",col2:"PF9-h _6_Gu- _1F-RO",col3:"epbR2 _6_Gu- q9lsa _2-VcX",col4:"zlQ8t _6_Gu- q9lsa",col6:"_1ueWY _6_Gu- _2cVF0",footerRightSide:"_15aci _6_Gu- _2cVF0",socialLinksContainer:"hz0ls",socialLink:"_1btLB",socialIcon:"_9BPpr",socialText:"_2L0Iv _2iX7Z"}},1493:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1519);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1494:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1522);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1495:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1524);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1498:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1499);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1499:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FollowButton=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(510);var u=n(8),c=o(u),s=n(52),d=o(s),f=n(2),p=o(f),h=n(1),m=o(h),_=n(11),v=n(28),y=n(16),b=n(511),g=n(514),w=n(18),P=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(w),k=n(34),C=n(29),E=n(19),O=n(51),T=n(68),N=o(T),M=n(59),S=o(M),j=n(33),L=o(j),B=n(1500),R=o(B),F={selectedUser:p.default.object.isRequired,authUser:p.default.object,location:p.default.object,className:p.default.string,redirectAfterFollow:p.default.bool,trackFollowButtonClick:p.default.func.isRequired,trackUnfollowButtonClick:p.default.func.isRequired,followUser:p.default.func.isRequired,unfollowUser:p.default.func.isRequired,labelText:p.default.shape({isFollowing:p.default.string.isRequired,isNotFollowing:p.default.string.isRequired}),buttonType:p.default.string},I={labelText:{isFollowing:"Following",isNotFollowing:"Follow"}},U=t.FollowButton=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"componentWillUnmount",value:function(){this.followSubscription&&this.followSubscription.unsubscribe()}},{key:"getLabelText",value:function(){var e=this.props.labelText;return this.props.selectedUser.followed_by_user?e.isFollowing:e.isNotFollowing}},{key:"buildToLink",value:function(){var e=this.props,t=e.authUser,n=e.location,o=(0,k.getLocationQuery)(n),r=t?o:Object.assign({},o,{login_view:"is_visible",login_action:"follow"});return{pathname:n.pathname,search:(0,E.buildSearchFromQuery)(r),state:n.state}}},{key:"buildClickHandler",value:function(){var e=this,t=this.props,n=t.authUser,o=t.selectedUser,r=t.followUser,a=t.unfollowUser,l=t.trackFollowButtonClick,i=t.trackUnfollowButtonClick,u=t.buttonType;if(!n)return function(){return l(o.id,u)};var c=o.username,s=o.followed_by_user,d=s?N.default.custom.unfollowUser:N.default.custom.followUser,f=y.Observable.defer(function(){return d(c)}).pipe((0,b.retry)(3),(0,g.take)(1));return function(t){t.stopPropagation(),s?(a(o.id),i(o.id,u)):(r(o.id),l(o.id,u)),e.followSubscription=f.subscribe()}}},{key:"renderContainer",value:function(e){var t=this.props,n=t.selectedUser,o=t.className,r=t.redirectAfterFollow,a=t.authUser,l=this.buildClickHandler(),i=n.followed_by_user,u=!a,s=r||u,d={className:(0,c.default)(R.default.followButton,i&&R.default.isFollowing,o),buttonSize:"small"};return s?m.default.createElement(S.default,Object.assign({tag:"link",to:this.buildToLink(),onMouseUp:l},d),e):m.default.createElement(S.default,Object.assign({tag:"button",onMouseUp:l},d),e)}},{key:"render",value:function(){var e=this.props,t=e.selectedUser,n=e.authUser;return(0,d.default)(n,"username")===t.username?m.default.createElement("div",null):this.renderContainer(m.default.createElement("span",null,m.default.createElement(L.default,{type:C.SvgType.follow,className:R.default.followIcon}),this.getLabelText()))}}]),t}(h.Component);U.displayName="FollowButton",U.propTypes=F,U.defaultProps=I;var x=function(e){return{authUser:(0,O.getAuthUser)(e)}},A={trackFollowButtonClick:P.trackFollowButtonClick,trackUnfollowButtonClick:P.trackUnfollowButtonClick,followUser:P.followUser,unfollowUser:P.unfollowUser};t.default=(0,v.withRouter)((0,_.connect)(x,A)(U))},1500:function(e,t){e.exports={colorWhite:"#fff",colorLightGrey:"#ddd",colorGrey:"#999",colorDarkGrey:"#777",colorBlue:"#007fff",colorDarkBlue:"#006aff",colorBlack:"#000",followButton:"_3nDcb",isFollowing:"_2br-F",followIcon:"_2BKrY"}},1501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SEARCH_DELAY=600,t.SEARCH_TRACKING_DELAY=2500,t.CARD_HOVER_DELAY=500},1502:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1503);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1503:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.UserResultCard=void 0;var r=n(8),a=o(r),l=n(52),i=o(l),u=n(2),c=o(u),s=n(1),d=o(s),f=n(11),p=n(28),h=n(58),m=n(14),_=n(51),v=n(75),y=n(205),b=o(y),g=n(1498),w=o(g),P=n(1504),k=o(P),C=n(1507),E=o(C),O={children:c.default.element,user:c.default.object.isRequired,photos:c.default.array,authUser:c.default.object,withinContainer:c.default.bool,withFollowButton:c.default.bool},T=t.UserResultCard=function(e){var t=e.user,n=e.photos,o=e.authUser,r=e.withinContainer,l=e.withFollowButton,u=e.children,c=!!t.total_photos,s=c&&(0,v.range)(3).map(function(e){return d.default.createElement(k.default,{key:e,photo:(0,i.default)(n,e)})}),f=l&&o&&o.id!==t.id;return d.default.createElement("div",{className:(0,a.default)(E.default.cardLink,r&&E.default.withinContainer)},d.default.createElement(p.Link,{className:E.default.container,to:{pathname:(0,h.buildUserUrl)(t)},onClick:function(){return window.scrollTo(0,0)}},d.default.createElement("div",{className:E.default.topContainer},d.default.createElement("div",{className:E.default.userAvatarContainer},d.default.createElement(b.default,{className:E.default.avatar,user:t,avatarSize:y.AvatarSize.medium,disableLink:!0})),d.default.createElement("div",{className:E.default.userInfoContainer},d.default.createElement("h1",{className:E.default.userName},t.name),d.default.createElement("p",{className:E.default.userHandle},"@"+t.username))),c&&d.default.createElement("div",{className:E.default.bottomContainer},s)),f&&d.default.createElement("div",{className:E.default.followButtonContainer},d.default.createElement(w.default,{selectedUser:t,className:E.default.followButton})),u)};T.displayName="UserResultCard",T.propTypes=O;var N=function(e,t){return{authUser:(0,_.getAuthUser)(e),photos:(0,v.pickValues)((0,m.getPhotosById)(e),t.user.photoIds)||t.user.photos}};t.default=(0,f.connect)(N)(T)},1504:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1505);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1505:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=o(r),l=n(52),i=o(l),u=n(2),c=o(u),s=n(1),d=o(s),f=n(25),p=n(1506),h=o(p),m={photo:c.default.object,darker:c.default.bool.isRequired},_={darker:!1},v=function(e){var t=e.photo,n=e.darker,o=(0,i.default)(t,"urls.thumb"),r=(0,i.default)(t,"color");return d.default.createElement("div",{className:(0,a.default)(h.default.photoThumbContainer,n?h.default.photoThumbContainerDark:h.default.photoThumbContainerLight),style:t&&{backgroundColor:r}},d.default.createElement("div",{className:h.default.photoThumb,style:t&&{backgroundImage:(0,f.urlToBackgroundImage)(o)}}))};v.propTypes=m,v.defaultProps=_,t.default=v},1506:function(e,t){e.exports={colors:'"styles/Colors.css"',colorDarkWhite:"#f5f5f5",colorLightGrey:"#ddd",photoThumbContainer:"_1BiZr",photoThumbContainerLight:"_1QflV",photoThumbContainerDark:"_3mBAu",photoThumb:"_2te-4"}},1507:function(e,t){e.exports={clearfix:"_2TNYr","sm-col":"_6_Gu-","sm-col-6":"_2cVF0","md-col-4":"_1hITE",px2:"_2DKvn",floatLeft:"_2T3hc","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",colorGrey:"#999",colorLightBlack:"#111",bodyCopy:"_1iWCF",truncate:"_1ByhS",textDecorationNone:"_1CBrG",spacingBase:"16px",avatarSize:"64px",grid:"_15FGY _6_Gu- _2cVF0 _1hITE _2DKvn",cardLink:"_3x_oL",withinContainer:"_3eFB8",container:"_2Twi2 _1CBrG",topContainer:"_2Em44 _2TNYr",userAvatarContainer:"_6jh8j _2T3hc",avatar:"_2ogcu",userInfoContainer:"_3_xrB",userName:"_2_qf1 _1ByhS _1iWCF",userHandle:"_1l0oJ _1ByhS",bottomContainer:"_1dc02",followButtonContainer:"_3u1LW",followButton:"_1TZOC"}},1508:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1511);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1509:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.reportPhotoImpressions=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(1),c=o(u),s=n(1556),d=o(s),f=n(11),p=n(99),h=o(p),m=n(18),_=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(m),v=n(25),y=!0===h.default.get("ENABLE_PHOTO_IMPRESSIONS_TRACKING");t.reportPhotoImpressions=function(e){var t=function(t){function n(){return r(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return l(n,t),i(n,[{key:"reportImpression",value:function(e){if(e){var t=this.props,n=t.photo,o=t.position;(0,t.reportPhotoImpression)({photo:{id:n.id,position:o}})}}},{key:"render",value:function(){var t=c.default.createElement(e,Object.assign({},this.props));return y&&v.isBrowser&&(0,v.checkSupportsIntersectionObservers)()?c.default.createElement(d.default,{onChange:this.reportImpression.bind(this),threshold:.5},t):t}}]),n}(u.Component);t.displayName="WrappedReportPhotoImpressionsComponent";var n={reportPhotoImpression:_.reportPhotoImpression};return(0,f.connect)(null,n)(t)}},1510:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),l=o(a),i=n(2),u=o(i),c=n(1),s=o(c),d=n(28),f=n(122),p=n(1501),h=n(58),m=n(1487),_=o(m),v=n(205),y=o(v),b=n(1508),g=o(b),w=n(1513),P=o(w),k={user:u.default.object.isRequired,type:u.default.oneOf(["default","alt","emphasiseUsername"]),secondaryLink:u.default.shape({label:u.default.string.isRequired,href:u.default.string.isRequired}),includeAvatar:u.default.bool,inline:u.default.bool,isInFollowingFeed:u.default.bool,children:u.default.node},C={type:"default",includeAvatar:!1},E=(0,_.default)(g.default),O=function(e){var t,n=e.user,o=e.type,a=e.secondaryLink,i=e.children,u=e.includeAvatar,c=e.inline,f=e.isInFollowingFeed,m=function(){switch(o){case"default":return[];case"alt":return[P.default.alt];case"emphasiseUsername":return[P.default.mainLinkEmphasiseUsernameType,P.default.linkEmphasiseUsernameType]}}(),_=function(){switch(o){case"alt":return P.default.alt;case"emphasiseUsername":return P.default.linkEmphasiseUsernameType;default:return}}();return s.default.createElement("span",{className:P.default.container},u&&s.default.createElement(E,{user:n,delay:p.CARD_HOVER_DELAY,wrapperClassName:P.default.avatarContainer},s.default.createElement(y.default,{user:n,className:P.default.avatar})),s.default.createElement("div",{className:(0,l.default)(P.default.linkContainer,c&&P.default.inlineContainer,f&&P.default.feedContainer)},s.default.createElement(E,{user:n,delay:p.CARD_HOVER_DELAY},s.default.createElement(d.Link,{to:{pathname:(0,h.buildUserUrl)(n)},className:(0,l.default)(P.default.name,m,(t={},r(t,P.default.centerName,!a),r(t,P.default.inlineLink,c),t))},i||n.name),a?s.default.createElement("a",{href:a.href,className:(0,l.default)(P.default.name,_,r({},P.default.secondaryLink,a))},a.label):null)))};O.propTypes=k,t.default=(0,f.withDefaults)(O,C)},1511:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),c=o(u),s=n(1),d=o(s),f=n(11),p=n(18),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=n(25),_=n(98),v=n(51),y=n(68),b=o(y),g=n(69),w=n(516),P=o(w),k=n(1502),C=o(k),E=n(1512),O=o(E),T={user:c.default.object.isRequired,authUser:c.default.object,updateData:c.default.func.isRequired},N=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.updateData,o=e.authUser;return(0,m.checkUserIsEnhanced)({user:t,authUser:o})?d.default.createElement(P.default,{className:O.default.cardTooltip},d.default.createElement(C.default,{withinContainer:!0,withFollowButton:!0,user:t,actions:h})):(b.default.users.profile(t.username).then(g.handleApiFetchResponse).then((0,_.normalizeResponse)("user")).then(function(e){var t=e.entities;n(t)}),null)}}]),t}(s.Component);N.displayName="UserDetailsCard",N.propTypes=T;var M=function(e){return{authUser:(0,v.getAuthUser)(e)}};t.default=(0,f.connect)(M,{updateData:h.updateData})(N)},1512:function(e,t){e.exports={cardTooltip:"wVee7"}},1513:function(e,t){e.exports={hoverTransition:"_3XJBh",colorWhite:"#fff",fontWeightMedium:"xLon9",truncate:"_1ByhS",textDecorationNone:"_1CBrG",container:"_2aPXR",avatarContainer:"JRtMq",avatar:"qNcZ0",linkContainer:"_80uCh",name:"_3XzpS _1ByhS",centerName:"_2zITg",secondaryLink:"NRFpG _1ByhS",alt:"_1_w0v _3XJBh _1CBrG",mainLinkEmphasiseUsernameType:"_1O9Y0 xLon9",linkEmphasiseUsernameType:"_3l__V _1CBrG",inlineContainer:"_3qohC",inlineLink:"_1ZT8D",feedContainer:"_3n7HL"}},1515:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1516);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1516:function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(521),n(510);var i=n(2),u=function(e){return e&&e.__esModule?e:{default:e}}(i),c=n(1),s=n(16),d=n(522),f=n(523),p=n(206),h=n(511),m=n(514),_=n(25),v=n(35),y={children:u.default.element.isRequired,handleFetch:u.default.func.isRequired,handleFetchArgs:u.default.shape({nextPage:u.default.oneOfType([u.default.string,u.default.number]),perPage:u.default.number,orderBy:u.default.string}).isRequired,handleFetchResponse:u.default.func.isRequired,handleFetchError:u.default.func.isRequired,isDoneFetching:u.default.bool.isRequired,shouldResetFeedContents:u.default.bool},b=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"componentDidMount",value:function(){this.addScrollSubscription()}},{key:"componentWillUpdate",value:function(e){var t=this,n=this.props,o=n.handleFetch,r=n.handleFetchError,a=n.handleFetchResponse,l=e.shouldResetFeedContents,i=e.handleFetchArgs;if(l){this.removeScrollSubscription();o(i.nextPage,i.perPage,i.orderBy).then(function(e){t.addScrollSubscription(),a(e)}).catch(r)}}},{key:"componentWillUnmount",value:function(){this.removeScrollSubscription()}},{key:"addScrollSubscription",value:function(){var e=this,t=s.Observable.fromEvent(window,"scroll").pipe((0,f.filter)(function(){return(0,_.shouldFetchMoreContent)()}),(0,p.map)(function(){return e.props.handleFetchArgs.nextPage}),(0,d.distinct)());this.scrollSubscription=t.subscribe(this.invokeSuppliedFetchMethod.bind(this))}},{key:"removeScrollSubscription",value:function(){(0,v.unsafeGetMaybe)(this.scrollSubscription).unsubscribe(),this.fetchSubscription&&this.fetchSubscription.unsubscribe()}},{key:"invokeSuppliedFetchMethod",value:function(){var e=this.props,t=e.handleFetch,n=e.handleFetchArgs,o=e.handleFetchResponse,r=e.handleFetchError,a=e.isDoneFetching;if(t&&!a){var l=n.nextPage,i=n.perPage,u=n.orderBy,c=s.Observable.defer(function(){return t(l,i,u)}).pipe((0,h.retry)(3),(0,m.take)(1));this.fetchSubscription=c.subscribe(o,r)}}},{key:"render",value:function(){return this.props.children}}]),t}(c.Component);b.displayName="FeedScrollHandler",b.propTypes=y,t.default=b},1517:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1518);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1518:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SmallPhoto=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(8),c=o(u),s=n(150),d=o(s),f=n(1),p=o(f),h=n(11),m=n(28),_=n(25),v=n(204),y=n(58),b=n(122),g=n(526),w=n(121),P=n(203),k=n(1493),C=o(k),E=n(1494),O=o(E),T=n(1495),N=o(T),M=n(1488),S=o(M),j=n(1526),L=n(1527),B=o(L),R={inFollowingFeed:!1,shouldIncludeLink:!0},F=t.SmallPhoto=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseLeave=n.handleMouseLeave.bind(n),n.state={isHovering:!1},n}return l(t,e),i(t,[{key:"getActionsState",value:function(){var e=this.state.isHovering,t=this.props,n=t.jsLoaded,o=t.downloadButtonXp,r=t.inFollowingFeed,a=(0,j.checkShouldShowDownloadButton)({downloadButtonXp:o,inFollowingFeed:r});return e||!n?j.ActionsStates.All:a&&!e?j.ActionsStates.DownloadButton:void 0}},{key:"handleMouseMove",value:function(){(0,j.checkHasWorkingHover)()&&!this.state.isHovering&&this.setState({isHovering:!0})}},{key:"handleMouseLeave",value:function(){this.setState({isHovering:!1})}},{key:"renderPhotoInfo",value:function(){var e=this.props,t=e.photo,n=e.linkTo,o=e.windowWidth,r=e.location,a=e.imageUrl,l=e.showPhotoInfoOnHover,i=e.shouldIncludeLink,u=!(0,v.checkIsPhone)(o);return p.default.createElement("div",{className:(0,c.default)(B.default.photoInfo,void 0!==this.getActionsState()&&B.default.photoInfoIsShown),onMouseMove:u?this.handleMouseMove:void 0,onMouseLeave:u?this.handleMouseLeave:void 0},i&&p.default.createElement(m.Link,{title:"View the photo by "+t.user.name,to:n||(0,y.buildPhotoLink)(t,r,o,{initialSrc:a}),className:B.default.photoInfoLink}),l&&this.renderActions())}},{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,n=e.photo;return p.default.createElement(N.default,{type:"alt",location:t,photo:n})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,n=e.photo;return p.default.createElement("div",{className:B.default.addToCollectionButtonContainer},p.default.createElement(C.default,{className:B.default.collectionButton,type:"alt",photo:n,location:t}))}},{key:"renderDownloadButton",value:function(){var e=this.props,t=e.photo,n=e.downloadButtonXp,o=e.inFollowingFeed,r=(0,j.checkShouldShowTooltip)({downloadButtonXp:n,inFollowingFeed:o}),a=(0,j.checkShouldShowLabel)({downloadButtonXp:n,inFollowingFeed:o});return p.default.createElement("div",{className:B.default.buttonDownloadContainer},p.default.createElement(O.default,{type:"alt",photo:t,showLabel:a,showTooltip:r}))}},{key:"renderUserLink",value:function(){var e=this.props.photo.user;return p.default.createElement("div",{className:B.default.userContainer},p.default.createElement(S.default,{includeAvatar:!0,user:e,type:"alt"}))}},{key:"renderTopActions",value:function(){switch(this.getActionsState()){case j.ActionsStates.All:return p.default.createElement("div",{className:B.default.actionsTop},this.renderLikeButton(),this.renderAddToCollectionButton());case j.ActionsStates.DownloadButton:case void 0:return}}},{key:"renderBottomActions",value:function(){switch(this.getActionsState()){case j.ActionsStates.All:return p.default.createElement("div",{className:B.default.actionsBottom},this.renderUserLink(),this.renderDownloadButton());case j.ActionsStates.DownloadButton:return p.default.createElement("div",{className:B.default.actionsBottom},this.renderDownloadButton());case void 0:return}}},{key:"renderActions",value:function(){return void 0!==this.getActionsState()?p.default.createElement("div",null,this.renderTopActions(),this.renderBottomActions()):null}},{key:"renderImage",value:function(){var e=this,t=this.props,n=t.photo,o=t.width,r=t.height,a=t.imageUrl,l=t.fillWidth,i=t.children,u=t.followingFeedClassName,s=t.inFollowingFeed,f=t.photoRef,h={backgroundImage:(0,_.urlToBackgroundImage)(a),backgroundColor:n.color,backgroundSize:"cover",width:l?"100%":o,height:r};return p.default.createElement("div",{style:s?h:{},className:(0,c.default)(s&&(0,c.default)(B.default.photo,u))},!s&&p.default.createElement("img",{alt:n.description||void 0,src:a,ref:function(t){(0,d.default)(f)&&f(t),e.linkElem=t},className:B.default.imgPhoto,style:{width:l?"100%":o,height:r}}),i)}},{key:"render",value:function(){var e=this.props.containerClassName;return p.default.createElement("div",{className:(0,c.default)(B.default.container,e)},this.renderImage(),this.renderPhotoInfo())}}]),t}(f.PureComponent);F.displayName="SmallPhoto";var I=function(e,t){return{jsLoaded:(0,g.getJsLoaded)(e),windowWidth:(0,w.getWindowWidth)(e),downloadButtonXp:(0,P.getDownloadButtonXp)(e).orUndefined()}};t.default=(0,m.withRouter)((0,b.withDefaults)((0,h.connect)(I)(F),R))},1519:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddToCollectionButton=void 0;var r=n(8),a=o(r),l=n(2),i=o(l),u=n(1),c=o(u),s=n(11),d=n(18),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(d),p=n(29),h=n(51),m=n(59),_=o(m),v=n(33),y=o(v),b=n(1520),g=n(1521),w=o(g),P={type:i.default.oneOf(["default","alt"]),photo:i.default.object.isRequired,setSelectedPhoto:i.default.func.isRequired,trackCollectionButtonClick:i.default.func.isRequired,location:i.default.object.isRequired,className:i.default.string,authUser:i.default.object,handleClick:i.default.func,children:i.default.node},k={type:"default"},C=t.AddToCollectionButton=function(e){var t=e.photo,n=e.setSelectedPhoto,o=e.trackCollectionButtonClick,r=e.location,l=e.type,i=e.className,u=e.authUser,s=e.handleClick,d=e.children,f="default"===l?"outline":"outline-alt";return c.default.createElement(_.default,{className:(0,a.default)(w.default.buttonCollections,i),buttonType:(0,b.inCollectionModifier)(f,t),buttonSize:"small",tag:"link",title:"Add to collection",to:(0,b.buildToLink)(u,r,t),onClick:function(){n({id:t.id}),o(t.id),s&&s()}},c.default.createElement(y.default,{type:p.SvgType.plus,className:w.default.addIcon}),c.default.createElement("span",{className:w.default.label},d,"Collect"))};C.displayName="AddToCollectionButton",C.propTypes=P,C.defaultProps=k;var E=function(e){return{authUser:(0,h.getAuthUser)(e)}},O={setSelectedPhoto:f.setSelectedPhoto,trackCollectionButtonClick:f.trackCollectionButtonClick};t.default=(0,s.connect)(E,O)(C)},1520:function(e,t,n){"use strict";function o(e,t){return t.current_user_collections&&t.current_user_collections.length>0?"green":e}Object.defineProperty(t,"__esModule",{value:!0}),t.buildToLink=void 0,t.inCollectionModifier=o;var r=n(34),a=n(19);t.buildToLink=function(e,t,n){var o=(0,r.getLocationQuery)(t),l=e?Object.assign({},o,{add_to_collection_view:"is_visible"}):Object.assign({},o,{login_view:"is_visible",login_action:"add_to_collection",login_from_photo:n.id});return{pathname:t.pathname,search:(0,a.buildSearchFromQuery)(l),state:t.state}}},1521:function(e,t){e.exports={floatLeft:"_2T3hc","--sm-min":"(--sm-min)",addIcon:"_2rdbO _2T3hc",label:"_1eyJo"}},1522:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadButton=void 0;var a=n(8),l=o(a),i=n(2),u=o(i),c=n(1),s=o(c),d=n(11),f=n(18),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),h=n(512),m=n(25),_=n(29),v=n(1487),y=o(v),b=n(299),g=n(59),w=o(g),P=n(516),k=o(P),C=n(33),E=o(C),O=n(1523),T=o(O),N={photo:u.default.object.isRequired,type:u.default.oneOf(["default","alt","green"]),showLabel:u.default.bool,showTooltip:u.default.bool,className:u.default.string,trackPhotoDownloadButtonClick:u.default.func.isRequired,showFixedBottomCard:u.default.func.isRequired,hideDownloadBottomBar:u.default.func.isRequired,label:u.default.string},M={type:"default",label:"Download"},S=t.DownloadButton=function(e){var t=e.photo,n=e.trackPhotoDownloadButtonClick,o=e.type,a=e.showLabel,i=e.showTooltip,u=e.className,c=e.showFixedBottomCard,d=e.hideDownloadBottomBar,f=e.label,p=function(){n(t),d(),m.safeLocalStorage.setItem(h.HAS_DOWNLOADED_A_PHOTO,""+!0);var e=new b.SayThanksCard(t.id);c(e)},v=a&&s.default.createElement("span",{className:T.default.label},f),g=s.default.createElement(E.default,{type:_.SvgType.download,className:(0,l.default)(T.default.downloadIcon,r({},T.default.labelIcon,a))}),P=function(){return s.default.createElement(k.default,{className:T.default.tooltip,tipPositionClassName:T.default.tooltipAnchorRight},s.default.createElement("div",{className:T.default.tooltipContents},"Click the ↓ to download this photo for free."))},C=(0,y.default)(P),O=function(){switch(o){case"default":return"outline";case"alt":return"outline-alt";case"green":return"green"}}();return s.default.createElement(w.default,{className:(0,l.default)(T.default.button,u),buttonType:O,buttonSize:"small",title:"Download photo",href:t.links.download+"?force=true",rel:"nofollow",download:!0,target:"_blank",track:p},s.default.createElement("span",null,i?s.default.createElement(C,null,g):g,v))};S.propTypes=N,S.defaultProps=M,S.displayName="DownloadButton";var j={trackPhotoDownloadButtonClick:p.trackPhotoDownloadButtonClick,showFixedBottomCard:p.showFixedBottomCard,hideDownloadBottomBar:p.hideDownloadBottomBar};t.default=(0,d.connect)(null,j)(S)},1523:function(e,t){e.exports={"--sm-min":"(--sm-min)",colorWhite:"#fff",button:"_1Tfeo",icon:"_11dQc",downloadIcon:"Apljk _11dQc",labelIcon:"_1Jd5C",label:"_2Aga-",tooltip:"_2wyvF",tooltipAnchorRight:"GMco6",tooltipContents:"_31KQ1"}},1524:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.LikeButton=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(510);var c=n(8),s=o(c),d=n(2),f=o(d),p=n(1),h=o(p),m=n(11),_=n(16),v=n(511),y=n(18),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),g=n(34),w=n(29),P=n(19),k=n(51),C=n(68),E=o(C),O=n(59),T=o(O),N=n(33),M=o(N),S=n(1525),j=o(S),L={type:f.default.oneOf(["default","alt"]),photo:f.default.object.isRequired,location:f.default.object.isRequired,className:f.default.string,authUser:f.default.object,trackPhotoUnlike:f.default.func.isRequired,trackPhotoLike:f.default.func.isRequired,unlikePhoto:f.default.func.isRequired,likePhoto:f.default.func.isRequired,setSelectedPhoto:f.default.func.isRequired},B={type:"default"},R=t.LikeButton=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentWillUnmount",value:function(){this.likesSubscription&&this.likesSubscription.unsubscribe()}},{key:"buildToLink",value:function(){var e=this.props,t=e.authUser,n=e.location,o=e.photo,r=(0,g.getLocationQuery)(n),a=t?r:Object.assign({},r,{login_view:"is_visible",login_action:"like",login_from_photo:o.id});return{pathname:n.pathname,search:(0,P.buildSearchFromQuery)(a),state:n.state}}},{key:"isLikedModifier",value:function(){var e=this.props,t=e.photo,n=e.type,o="default"===n?"outline":"outline-alt";return t.liked_by_user?"pink":o}},{key:"buildClickHandler",value:function(){var e=this,t=this.props,n=t.photo,o=t.trackPhotoUnlike,r=t.trackPhotoLike,a=t.unlikePhoto,l=t.likePhoto,i=n.liked_by_user,u=i?E.default.photos.unlikePhoto:E.default.photos.likePhoto,c=i?o:r,s=i?a:l,d=_.Observable.defer(function(){return u(n.id)}).pipe((0,v.retry)(3));return function(t){t.preventDefault(),s(n.id),c(n),e.likesSubscription=d.subscribe()}}},{key:"renderLikesLabel",value:function(){var e=this.props.photo;return e.likes?h.default.createElement("span",{className:j.default.labelLike},e.likes):h.default.createElement("span",null)}},{key:"render",value:function(){var e=this.props,t=e.photo,n=e.setSelectedPhoto,o=e.trackPhotoLike,a=e.className,l=e.authUser,i=l?this.buildClickHandler():function(){n({id:t.id}),o(t)};return h.default.createElement(T.default,{className:(0,s.default)(j.default.buttonLike,a),buttonType:this.isLikedModifier(),tag:"link",title:"Like photo",buttonSize:"small",to:this.buildToLink(),onClick:i},h.default.createElement("span",null,h.default.createElement(M.default,{type:w.SvgType.heart,className:(0,s.default)(j.default.likeIcon,r({},j.default.likeIconLiked,t.liked_by_user))}),this.renderLikesLabel()))}}]),t}(p.Component);R.displayName="LikeButton",R.propTypes=L,R.defaultProps=B;var F=function(e){return{authUser:(0,k.getAuthUser)(e)}},I={trackPhotoUnlike:b.trackPhotoUnlike,trackPhotoLike:b.trackPhotoLike,unlikePhoto:b.unlikePhoto,likePhoto:b.likePhoto,setSelectedPhoto:b.setSelectedPhoto};t.default=(0,m.connect)(F,I)(R)},1525:function(e,t){e.exports={floatLeft:"_2T3hc",colorPink:"#f15151",colorWhite:"#fff",likeIcon:"BWSrD _2T3hc",likeIconLiked:"_1O_YD",labelLike:"_2ER2Y _2T3hc"}},1526:function(e,t,n){"use strict";function o(e){var t=e.downloadButtonXp,n=e.inFollowingFeed;return[u.Variant.showArrow,u.Variant.showBottomBar].includes(t)&&!n}function r(e){var t=i.safeLocalStorageHelpers.hasItem(l.HAS_DOWNLOADED_A_PHOTO),n=e.downloadButtonXp===u.Variant.showArrow;return o(e)&&n&&!t}function a(e){var t=e.downloadButtonXp,n=e.inFollowingFeed;return t===u.Variant.showWord&&!n}Object.defineProperty(t,"__esModule",{value:!0}),t.checkHasWorkingHover=t.ActionsStates=void 0,t.checkShouldShowDownloadButton=o,t.checkShouldShowTooltip=r,t.checkShouldShowLabel=a;var l=n(512),i=n(25),u=n(513),c=t.ActionsStates=void 0;!function(e){e.All="All",e.DownloadButton="DownloadButton"}(c||(t.ActionsStates=c={}));var s=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream};t.checkHasWorkingHover=function(){return!s()}},1527:function(e,t){e.exports={floatLeft:"_2T3hc",floatRight:"_3pmDG","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",hoverTransition:"_3XJBh",container:"_3vgBX",photo:"_1hz5D",imgPhoto:"KW7g_ _1hz5D",photoInfo:"bQJ8Z",photoInfoIsShown:"_2j4gG",photoInfoLink:"_23lr1",actionsTop:"_2yfpM",actionsBottom:"_1a5YS",userContainer:"CpQi5 _2T3hc",buttonDownloadContainer:"_3i-Ef _3pmDG",addToCollectionButtonContainer:"_3W6mQ"}},1528:function(e,t){e.exports={floatLeft:"_2T3hc",floatRight:"_3pmDG","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",container:"y5w1y",photo:"cV68d",photoInfo:"hduMF",leftActions:"_31wG7 _2T3hc",rightActions:"_287Ma _3pmDG",user:"_114MZ",collectionButtonContainer:"_1XDiz",userLink:"_3isoq",userImageContainer:"_8p1N4 _2T3hc",userAvatar:"_1fYZF",userName:"_1imKo _2T3hc",userTopLink:"_1f9xN"}},1529:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1530);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1530:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedContainer=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),c=o(u),s=n(1),d=o(s),f=n(11),p=n(18),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=n(1531),_=o(m),v={setContentWidth:c.default.func.isRequired,children:c.default.element.isRequired},y=t.FeedContainer=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.setContentWidth(),window.addEventListener("resize",this.handleResize.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize.bind(this))}},{key:"setContentWidth",value:function(){var e=this.props.setContentWidth;this.elem&&e(this.elem.offsetWidth-24)}},{key:"handleResize",value:function(){this.setContentWidth()}},{key:"render",value:function(){var e=this,t=this.props.children;return d.default.createElement("div",{className:_.default.container,ref:function(t){e.elem=t}},t)}}]),t}(s.Component);y.propTypes=v;var b={setContentWidth:h.setContentWidth};t.default=(0,f.connect)(null,b)(y)},1531:function(e,t){e.exports={container:"Nqw-T _2sCnE PrOBO _1CR66"}},1532:function(e,t){e.exports={"--sm":"(--sm)","--md-min":"(--md-min)",colorGrey:"#999",colorDarkWhite:"#f5f5f5",colorLightBlack:"#111",headingXs:"_2uOAz",fontWeightSemibold:"_13Ib2",truncate:"_1ByhS",textDecorationNone:"_1CBrG",maxWidth:"750px",smallImagePercentage:"30%",bigImagePercentage:"70%",aspectRatioWrapper:"_2Dp1M",collectionContainer:"_28_Yu",linkWrapper:"fM0CB _1CBrG",imagesContainer:"_2zwgf",smallImagesContainer:"_2gO6E",image:"Kh8bw",bigImageWrapper:"_2vGrb",smallImageWrapper:"mTW0H",titleContainer:"_3zVYZ _1ByhS",iconPrivate:"_39uDR",title:"_2LKkn _2uOAz _13Ib2 _1ByhS",description:"_3-HBj _1ByhS",tagsContainer:"_3B1zT",smallTagContainer:"_1J1Oo"}},1541:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1542);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1542:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=o(r),l=n(1),i=o(l),u=n(122),c=n(1543),s=n(1544),d=o(s),f={slicedPadding:!1},p=function(e){var t=e.title,n=e.className,o=e.children,r=e.slicedPadding;return i.default.createElement("div",{className:(0,a.default)(r?d.default.containerSliced:d.default.container,n)},i.default.createElement("div",{className:d.default.containerPageHeader},i.default.createElement("h1",{className:d.default.title,"data-test":c.TEST_ATTRIBUTE},t),i.default.createElement("div",{className:d.default.children},o)))};t.default=(0,u.withDefaults)(p,f)},1543:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="page-header-title"},1544:function(e,t){e.exports={clearfix:"_2KLco",container:"_2v9nm _2KLco _2sCnE PrOBO _1CR66",containerLayout:"PrOBO","sm-col-8":"_1pgnK","sm-col-10":"_3zWw2","md-col-6":"_5KnKv","md-col-8":"_2Mu9I","--sm-min":"(--sm-min)",headingL:"_2RmO0",bodyCopy:"_1iWCF",containerSliced:"_29nV2 _2KLco PrOBO",title:"_1GUcz _2RmO0 _3zWw2 _2Mu9I",children:"_3NchO _1iWCF _1pgnK _5KnKv"}},1545:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1546);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1546:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FeedNav=void 0;var r=n(8),a=o(r),l=n(2),i=o(l),u=n(1),c=o(u),s=n(1547),d=o(s),f=n(1551),p=o(f),h={fallbackToGridChanger:i.default.bool,isHome:i.default.bool,leftChild:i.default.element,rightChild:i.default.element,slicedPadding:i.default.bool},m={fallbackToGridChanger:!0,isHome:!1,slicedPadding:!1},_=t.FeedNav=function(e){var t=e.fallbackToGridChanger,n=e.leftChild,o=e.rightChild,r=e.isHome,l=e.slicedPadding,i=!t||void 0!==o&&null!==o?o:c.default.createElement(d.default,{isHome:r});return c.default.createElement("div",{className:(0,a.default)(p.default.container,l?p.default.gridContainerLayout:p.default.gridContainer)},n&&c.default.createElement("span",{className:p.default.firstFloatLeft},n),i&&c.default.createElement("span",{className:p.default.lastFloatRight},i))};_.displayName="FeedNav",_.propTypes=h,_.defaultProps=m,t.default=_},1547:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1548);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1548:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.GridChanger=void 0;var a=n(8),l=o(a),i=n(2),u=o(i),c=n(1),s=o(c),d=n(11),f=n(18),p=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(f),h=n(530),m=n(29),_=n(298),v=n(33),y=o(v),b=n(1549),g=n(1550),w=o(g),P={preferredGrid:u.default.oneOf([h.SINGLE,h.MULTI]).isRequired,setPreferredGrid:u.default.func.isRequired,trackGridSwitch:u.default.func.isRequired},k=[{type:h.SINGLE,icon:m.SvgType.gridSingle},{type:h.MULTI,icon:m.SvgType.gridMulti}],C=t.GridChanger=function(e){var t=e.preferredGrid,n=e.setPreferredGrid,o=e.trackGridSwitch;return s.default.createElement("div",{className:w.default.gridSelector},k.map(function(e){return s.default.createElement("button",{key:e.type,className:(0,l.default)(w.default.gridButton,r({},w.default.activeGridLink,t===e.type)),onClick:function(){return(0,b.handleToggleClick)(e.type,t,n,o)}},s.default.createElement(y.default,{className:w.default.gridIcon,type:e.icon}))}))};C.displayName="GridChanger",C.propTypes=P;var E=function(e){return{preferredGrid:(0,_.getPreferredGrid)(e)}},O={setPreferredGrid:p.setPreferredGrid,trackGridSwitch:p.trackGridSwitch};t.default=(0,d.connect)(E,O)(C)},1549:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleToggleClick=void 0;var o=n(527),r=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(528);t.handleToggleClick=function(e,t,n,o){r.default.set(a.GRID,e),n(e),o(e)}},1550:function(e,t){e.exports={"--xs-max":"(--xs-max)",colorLightBlack:"#111",colorGrey:"#999",textDecorationNone:"_1CBrG",gridSelector:"LJo2j",gridButton:"_2OLVr _1CBrG",activeGridLink:"_1qJx4",gridIcon:"_32SMR"}},1551:function(e,t){e.exports={floatLeft:"_2T3hc",floatRight:"_3pmDG",clearfix:"_2KLco",container:"_2sKzG _2KLco",containerLayout:"PrOBO",gridContainer:"_18tY4 _2sCnE PrOBO _1CR66",gridContainerLayout:"_3o5sn PrOBO",firstFloatLeft:"_2d9fA _2T3hc",lastFloatRight:"_3lOS2 _3pmDG"}},1552:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1553);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1553:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return{totalHeight:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,photos:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}}function u(e){var t=0,n=e[0];return e.forEach(function(e,o){e.totalHeight<n.totalHeight&&(t=o,n=e)}),t}function c(e){return Array.from({length:e}).map(function(){return i()})}Object.defineProperty(t,"__esModule",{value:!0}),t.Masonry=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),d=n(8),f=o(d),p=n(2),h=o(p),m=n(1),_=o(m),v=n(11),y=n(18),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),g=n(204),w=n(121),P=n(203),k=n(513),C=n(1554),E=o(C),O=n(1560),T=n(1561),N=o(T),M={photos:h.default.array.isRequired,smallPhotoProps:h.default.object,windowWidth:h.default.number,downloadButtonXp:h.default.oneOf(Object.keys(k.Variant)),showDownloadBottomBar:h.default.func.isRequired,hideDownloadBottomBar:h.default.func.isRequired,shouldUseContainerPadding:h.default.bool},S={shouldUseContainerPadding:!0},j=t.Masonry=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={gridCount:(0,g.checkIsPhoneOrTablet)(e.windowWidth)?2:3},n.renderGrid=n.renderGrid.bind(n),n}return l(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.downloadButtonXp,n=e.showDownloadBottomBar;(0,O.checkShouldShowDownloadBottomBar)(t)&&n()}},{key:"componentWillUpdate",value:function(e){var t=this.props.windowWidth;e.windowWidth!==t&&((0,g.checkIsPhoneOrTablet)(e.windowWidth)?this.setState({gridCount:2}):this.setState({gridCount:3}))}},{key:"componentWillUnmount",value:function(){this.props.hideDownloadBottomBar()}},{key:"getGridData",value:function(e){var t=this.props.photos,n=c(e);return t.forEach(function(e){var t=n[u(n)];e.height&&e.width&&(t.totalHeight+=e.height/e.width,t.photos.push(e))}),n.map(function(e){return e.photos})}},{key:"renderGrid",value:function(e,t){var n=this.props,o=n.photos,r=n.smallPhotoProps,a=this.state.gridCount;return _.default.createElement("div",{key:t,ref:"MasonryGrid"+t,className:(0,f.default)(N.default.Grid,3===a&&N.default.GridThree,2===a&&N.default.GridTwo,1===a&&N.default.GridOne)},e.map(function(e,t){var n=o.indexOf(e);return _.default.createElement(E.default,{smallPhotoProps:r,gridCount:a,photo:e,position:n,key:t})}))}},{key:"render",value:function(){var e=this.state.gridCount,t=this.props.shouldUseContainerPadding,n=this.getGridData(e).map(this.renderGrid);return _.default.createElement("div",{id:"gridMulti",className:(0,f.default)(N.default.container,t&&N.default.containerWithPadding),"data-test":O.TEST_ATTRIBUTE},n)}}]),t}(m.Component);j.displayName="Masonry",j.propTypes=M,j.defaultProps=S;var L=function(e){return{windowWidth:(0,w.getWindowWidth)(e),downloadButtonXp:(0,P.getDownloadButtonXp)(e).orUndefined()}},B={showDownloadBottomBar:b.showDownloadBottomBar,hideDownloadBottomBar:b.hideDownloadBottomBar};t.default=(0,v.connect)(L,B)(j)},1554:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1555);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1555:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=o(r),l=n(1),i=o(l),u=n(11),c=n(1509),s=n(520),d=n(146),f=n(75),p=n(1517),h=o(p),m=n(1558),_=n(1559),v=o(_),y={smallPhotoProps:a.default.object,contentWidth:a.default.number,pixelRatio:a.default.number.isRequired,photo:a.default.object.isRequired,gridCount:a.default.number.isRequired},b=function(e){var t=e.smallPhotoProps,n=e.gridCount,o=e.contentWidth,r=e.pixelRatio,a=e.photo,l=Math.ceil(o/n-32),u=(0,f.getImageSizeAndImgixUrl)({photo:a,isMasonry:!0,parentWidth:l,pixelRatio:r}),c=u.imageUrl,s=u.imageWidth,d=u.imageHeight;return i.default.createElement("div",{className:v.default.photoContainer,"data-test":m.TEST_ATTRIBUTE},i.default.createElement(h.default,Object.assign({fillWidth:!0,showPhotoInfoOnHover:!0,width:s,height:d,imageUrl:c,photo:a},t)))};b.displayName="MasonryPhoto",b.propTypes=y;var g=function(e){return{contentWidth:(0,s.getContentWidth)(e),pixelRatio:(0,d.getPixelRatio)(e)}};t.default=(0,c.reportPhotoImpressions)((0,u.connect)(g)(b))},1556:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(1),s=(o(c),n(2)),d=o(s),f=n(1557),p=function(e){return"function"==typeof e},h=function(e){function t(){var e,n,o,r;a(this,t);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return n=o=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.state={inView:!1},o.node=null,o.handleNode=function(e){o.node&&(0,f.unobserve)(o.node),e&&(0,f.observe)(e,o.handleChange,o.props.threshold),o.node=e},o.handleChange=function(e){return o.setState({inView:e})},r=n,l(o,r)}return i(t,e),u(t,[{key:"componentWillUpdate",value:function(e,t){this.props.onChange&&t.inView!==this.state.inView&&(this.props.onChange(t.inView),t.inView&&e.unobserve)}},{key:"componentDidUpdate",value:function(e,t){t.inView!==this.state.inView&&this.state.inView&&this.props.triggerOnce&&((0,f.unobserve)(this.node),this.node=null)}},{key:"componentWillUnmount",value:function(){this.node&&((0,f.unobserve)(this.node),this.node=null)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.render,o=e.tag,a=(e.triggerOnce,e.threshold,r(e,["children","render","tag","triggerOnce","threshold"])),l=this.state.inView;return(0,c.createElement)(o,Object.assign({},a,{ref:this.handleNode}),l&&p(n)?n():null,p(t)?t(l):t)}}]),t}(c.Component);h.propTypes={tag:d.default.node,children:d.default.oneOfType([d.default.func,d.default.node]),triggerOnce:d.default.bool,threshold:d.default.number,onChange:d.default.func,render:d.default.func},h.defaultProps={tag:"div",threshold:0,triggerOnce:!1},t.default=h},1557:function(e,t,n){"use strict";function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(e&&t){var o=i.get(n);o||(o=new IntersectionObserver(a,{threshold:n}),i.set(n,o)),l.set(e,{callback:t,visible:!1,threshold:n}),o.observe(e)}}function r(e){if(e){var t=l.get(e);if(t){l.delete(e);var n=i.get(t.threshold);n&&n.unobserve(e);var o=!1;l.forEach(function(e){e.threshold===t.threshold&&(o=!0)}),n&&!o&&(n.disconnect(),i.delete(t.threshold))}}}function a(e){e.forEach(function(e){if(l.has(e.target)){var t=e.isIntersecting,n=e.intersectionRatio,o=e.target,r=l.get(o),a=r.callback,i=r.visible,u=r.threshold,c=i?n>u:n>=u;void 0!==t&&(c=c&&t),l.set(o,{callback:a,visible:c,threshold:u}),a&&a(c)}})}Object.defineProperty(t,"__esModule",{value:!0}),t.observe=o,t.unobserve=r;var l=new Map,i=new Map;t.default={observe:o,unobserve:r}},1558:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1559:function(e,t){e.exports={"--sm-min":"(--sm-min)",photoContainer:"_1pn7R"}},1560:function(e,t,n){"use strict";function o(e){var t=a.safeLocalStorageHelpers.hasItem(r.HAS_DOWNLOADED_A_PHOTO);return e===l.Variant.showBottomBar&&!t}Object.defineProperty(t,"__esModule",{value:!0}),t.TEST_ATTRIBUTE=void 0,t.checkShouldShowDownloadBottomBar=o;var r=n(512),a=n(25),l=n(513);t.TEST_ATTRIBUTE="photos-grid-view"},1561:function(e,t){e.exports={floatLeft:"_2T3hc","--sm-min":"(--sm-min)",clearfix:"_2TNYr",container:"_3_WtK _2TNYr",containerWithPadding:"_1C-lZ",Grid:"_1OvAL _2T3hc",GridThree:"_27nWV",GridTwo:"_1eGVY",GridOne:"_3nHtz"}},1562:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1563);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1563:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=o(r),l=n(1),i=o(l),u=n(1564),c=o(u),s=n(1569),d=n(1570),f=o(d),p={photos:a.default.array},h=function(e){var t=e.photos;return i.default.createElement("div",{id:"gridSingle",className:f.default.container,"data-test":s.TEST_ATTRIBUTE},t.map(function(e,t){return i.default.createElement(c.default,{key:e.id,photo:e,position:t})}))};h.displayName="PhotosListView",h.propTypes=p,t.default=h},1564:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1565);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1565:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Photo=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),c=o(u),s=n(1),d=o(s),f=n(28),p=n(1493),h=o(p),m=n(1494),_=o(m),v=n(1495),y=o(v),b=n(1488),g=o(b),w=n(1566),P=o(w),k=n(1568),C=n(1528),E=o(C),O={location:c.default.object.isRequired,photo:c.default.object.isRequired,position:c.default.number.isRequired},T=t.Photo=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"renderLikeButton",value:function(){var e=this.props,t=e.location,n=e.photo;return d.default.createElement(y.default,{photo:n,location:t})}},{key:"renderAddToCollectionButton",value:function(){var e=this.props,t=e.location,n=e.photo;return d.default.createElement("div",{className:E.default.collectionButtonContainer},d.default.createElement(h.default,{photo:n,location:t}))}},{key:"renderleftActions",value:function(){return d.default.createElement("div",{className:E.default.leftActions},this.renderLikeButton(),this.renderAddToCollectionButton())}},{key:"renderRightActions",value:function(){var e=this.props.photo;return d.default.createElement("div",{className:E.default.rightActions},d.default.createElement(_.default,{photo:e,showLabel:!0}))}},{key:"renderUser",value:function(){var e=this.props.photo.user;return d.default.createElement("div",{className:E.default.user},d.default.createElement(g.default,{includeAvatar:!0,user:e}))}},{key:"renderPhotoInfo",value:function(){return d.default.createElement("div",{className:E.default.photoInfo},this.renderleftActions(),this.renderUser(),this.renderRightActions())}},{key:"renderTopUserLink",value:function(){var e=this.props.photo.user;return d.default.createElement("div",{className:E.default.userTopLink},d.default.createElement(g.default,{includeAvatar:!0,user:e}))}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.photo,o=e.position;return d.default.createElement("div",{className:E.default.container,"data-test":k.TEST_ATTRIBUTE},this.renderTopUserLink(),d.default.createElement(P.default,{location:t,position:o,photo:n}),this.renderPhotoInfo())}}]),t}(s.Component);T.displayName="Photo",T.propTypes=O,t.default=(0,f.withRouter)(T)},1566:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1567);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1567:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PhotoImage=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),c=o(u),s=n(1),d=o(s),f=n(11),p=n(28),h=n(18),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),_=n(204),v=n(58),y=n(1509),b=n(520),g=n(146),w=n(121),P=n(75),k=n(1528),C=o(k),E={location:c.default.object.isRequired,photo:c.default.object.isRequired,windowWidth:c.default.number,contentWidth:c.default.number,pixelRatio:c.default.number.isRequired,setSelectedPhoto:c.default.func.isRequired},O=t.PhotoImage=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.photo,o=t.photo.user,r=t.pixelRatio,a=t.location,l=t.setSelectedPhoto,i=t.windowWidth,u=t.contentWidth,c=(0,_.checkIsPhone)(i)?i:u,s=(0,P.getImageSizeAndImgixUrl)({photo:n,parentWidth:c,pixelRatio:r}),f=s.imageUrl,h=s.imageWidth,m=s.imageHeight;return d.default.createElement(p.Link,{ref:function(t){e.elem=t},to:(0,v.buildPhotoLink)(n,a,i),title:"View the photo By "+o.name,onClick:function(){return l({id:n.id,ref:e.elem})}},d.default.createElement("img",{alt:n.description||null,src:f,className:C.default.photo,style:{width:h,height:m}}))}}]),t}(s.Component);O.displayName="PhotoImage",O.propTypes=E;var T=function(e){return{pixelRatio:(0,g.getPixelRatio)(e),windowWidth:(0,w.getWindowWidth)(e),contentWidth:(0,b.getContentWidth)(e)}},N={setSelectedPhoto:m.setSelectedPhoto};t.default=(0,y.reportPhotoImpressions)((0,f.connect)(T,N)(O))},1568:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photo-component"},1569:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="photos-list-view"},1570:function(e,t){e.exports={"--xs-max":"(--xs-max)",container:"_1I8cs"}},1571:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1576);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1572:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1573);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1573:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=o(r),l=n(1574),i=o(l),u=n(1579),c=n(1580),s=o(c),d=function(e){var t=e.collection;return a.default.createElement("div",{className:s.default.collectionContainer,"data-test":u.TEST_ATTRIBUTE},t?a.default.createElement(i.default,{collection:t}):a.default.createElement("div",null,a.default.createElement("div",{className:s.default.placeholderAspectRatioWrapper},a.default.createElement("div",{className:s.default.placeholderContainer},a.default.createElement("div",{className:s.default.placeholder}),a.default.createElement("div",{className:s.default.placeholderTextBox}),a.default.createElement("div",{className:s.default.placeholderTextBox2}))),a.default.createElement("div",{className:s.default.placeholderTextBox3})))};d.displayName="CollectionFeedCard",t.default=d},1574:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1575);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1575:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),a=n(517),l=o(a),i=n(1),u=o(i),c=n(11),s=n(28),d=n(518),f=n(25),p=n(58),h=n(202),m=n(29),_=n(51),v=n(33),y=o(v),b=n(534),g=o(b),w=n(1571),P=o(w),k=n(531),C=o(k),E=n(1578),O=n(1532),T=o(O),N=function(e){var t=e.collection,n=e.isLoggedIn,o=t.user,a=t.total_photos,i=t.preview_photos,c=t.private,_=t.tags,v=(0,f.buildCollectionTitle)(t),b=(0,h.buildCollectionUrl)(t),w=r.Option.of(i),k=(0,E.getImageSrces)(w,0,E.Size.full),O=(0,E.getImageSrces)(w,1,E.Size.half),N=(0,E.getImageSrces)(w,2,E.Size.half);return u.default.createElement("div",null,u.default.createElement("div",{className:T.default.aspectRatioWrapper},u.default.createElement("div",{className:T.default.collectionContainer},u.default.createElement(s.Link,{to:{pathname:b},className:T.default.linkWrapper},u.default.createElement("div",{className:T.default.imagesContainer},k.map(function(e){var t=e.src,n=e.srcSet;return u.default.createElement(g.default,{role:"presentation",containerClassName:T.default.bigImageWrapper,className:T.default.image,src:t,srcSet:n})}).getOrElse(u.default.createElement("div",{className:T.default.bigImageWrapper})),u.default.createElement("div",{className:T.default.smallImagesContainer},O.map(function(e){var t=e.src,n=e.srcSet;return u.default.createElement(g.default,{role:"presentation",containerClassName:T.default.smallImageWrapper,className:T.default.image,src:t,srcSet:n})}).getOrElse(u.default.createElement("div",{className:T.default.smallImageWrapper})),N.map(function(e){var t=e.src,n=e.srcSet;return u.default.createElement(g.default,{role:"presentation",containerClassName:T.default.smallImageWrapper,className:T.default.image,src:t,srcSet:n})}).getOrElse(u.default.createElement("div",{className:T.default.smallImageWrapper})))),u.default.createElement("div",{className:T.default.titleContainer},c&&u.default.createElement("span",{className:T.default.isPrivateContainer},u.default.createElement(C.default,{className:T.default.isPrivateTooltip,label:"This collection is private. To share, copy the URL or make the collection public.",width:200},u.default.createElement(y.default,{type:m.SvgType.lock,className:T.default.iconPrivate}))),u.default.createElement("div",{className:T.default.title},v))),u.default.createElement("div",{className:T.default.description},a," photos · Curated by"," ",n?u.default.createElement(s.Link,{to:(0,p.buildUserUrl)(o)},o.name):o.name))),u.default.createElement("div",{className:T.default.tagsContainer},(0,l.default)(_,3).map(function(e){var t=e.title;return u.default.createElement("div",{key:t,className:T.default.smallTagContainer},u.default.createElement(P.default,{tag:{title:t,url:(0,p.buildSearchUrlFromDecodedQuery)(t)},emplacement:d.TagEmplacement.CollectionCard}))})))};N.displayName="CollectionCard";var M=function(e,t){return{isLoggedIn:(0,_.getIsLoggedIn)(e)}};t.default=(0,c.connect)(M)(N)},1576:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=o(r),l=n(11),i=n(28),u=n(18),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),s=n(1577),d=o(s),f=function(e){var t=e.tag,n=e.emplacement,o=e.trackSearchSuggestionClick,r=t.title.toLowerCase();return a.default.createElement(i.Link,{className:d.default.smallTag,to:t.url,title:t.title+" images",onClick:function(){return o(r,n)}},t.title)};f.displayName="SmallTag";var p=function(){return{}},h={trackSearchSuggestionClick:c.trackSearchSuggestionClick};t.default=(0,l.connect)(p,h)(f)},1577:function(e,t){e.exports={smallTag:"_6PxCM"}},1578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getImageSrces=t.Size=void 0;var o=n(148),r=n(524),a=n(147),l=n(1532),i=function(e){return e&&e.__esModule?e:{default:e}}(l),u=(0,o.pixelsToNumber)((0,o.getFormattedNumberFromStyles)({styles:i.default,className:"maxWidth",fallback:"200"})),c=t.Size=void 0;!function(e){e.full="full",e.half="half"}(c||(t.Size=c={}));var s=function(e){return e.urls.raw},d=function(e){switch(e){case c.full:return(0,o.percentageToRatio)((0,o.getFormattedNumberFromStyles)({styles:i.default,className:"bigImagePercentage",fallback:"50%"}));case c.half:return(0,o.percentageToRatio)((0,o.getFormattedNumberFromStyles)({styles:i.default,className:"smallImagePercentage",fallback:"50%"}))}},f=function(e){return function(t){return{src:(0,a.buildImgixUrlWithDefaults)(t)({w:u}),srcSet:(0,r.generateImgDensitySrcSetString)({baseUrl:t,width:u*d(e)})}}};t.getImageSrces=function(e,t,n){return e.mapN(function(e){return e[t]}).map(s).map(f(n))}},1579:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="collection-feed-card"},1580:function(e,t){e.exports={"--sm":"(--sm)","--sm-min":"(--sm-min)","--md-min":"(--md-min)",colorLightGrey:"#ddd",placeholderBackground:"_2VWD4",gutter:"12px",oneHundrendPercent:"100%",fiftyPercent:"50%",collectionContainer:"_15M91",placeholderAspectRatioWrapper:"_2rCoL",placeholderContainer:"_3jSxL",placeholder:"_1X2ch _2VWD4",placeholderTextBox:"_3I0Nd _2VWD4",placeholderTextBox2:"mpqhr _2VWD4",placeholderTextBox3:"yxc4t _2VWD4",placeholderTextBox1:"_2pqeA _2VWD4"}},1581:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1582);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1582:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Feed=void 0;var r=n(2),a=o(r),l=n(1),i=o(l),u=n(11),c=n(298),s=n(121),d=n(75),f=n(1529),p=o(f),h=n(1552),m=o(h),_=n(1562),v=o(_),y={photos:a.default.arrayOf(a.default.object).isRequired,preferredGrid:a.default.string,isPhone:a.default.bool,feedFooter:a.default.element},b=t.Feed=function(e){var t=e.feedFooter,n=e.isPhone,o=e.preferredGrid,r=e.photos,a=(0,d.isMasonryLayout)(o)&&!n;return i.default.createElement(p.default,null,i.default.createElement("div",null,a?i.default.createElement(m.default,{photos:r}):i.default.createElement(v.default,{photos:r}),t))};b.displayName="Feed",b.propTypes=y;var g=function(e){return{preferredGrid:(0,c.getPreferredGrid)(e),isPhone:(0,s.getIsPhone)(e)}};t.default=(0,u.connect)(g)(b)},1583:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1584);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1584:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),l=o(a),i=n(1),u=o(i),c=n(75),s=n(1585),d=o(s),f={preferredGrid:l.default.string.isRequired},p={single:2,multi:9},h=function(e){var t=e.preferredGrid,n=(0,c.isMasonryLayout)(t),o=[].concat(r(Array(p[t]).keys()));return u.default.createElement("div",{className:d.default.container},o.map(function(e,t){return u.default.createElement("div",{key:t,className:n?d.default.thirdContainer:d.default.singleContainer},u.default.createElement("div",{className:n?d.default.third:d.default.single}),!n&&u.default.createElement("div",{className:d.default.photoInfo},u.default.createElement("div",{className:d.default.leftActions},u.default.createElement("div",{className:d.default.likeButtonPlaceholder}),u.default.createElement("div",{className:d.default.addToCollectionButtonPlaceholder})),u.default.createElement("div",{className:d.default.user},u.default.createElement("div",{className:d.default.userPlaceholder})),u.default.createElement("div",{className:d.default.rightActions},u.default.createElement("div",{className:d.default.downloadButtonPlaceholder}))))}))};h.displayName="FeedPlaceholder",h.propTypes=f,t.default=h},1585:function(e,t){e.exports={clearfix:"_2KLco",container:"_1IQJa _2KLco _2sCnE PrOBO _1CR66","sm-col":"_6_Gu-","sm-col-12":"_39F6U","sm-col-6":"_2cVF0","md-col-4":"_1hITE",px2:"_2DKvn",floatLeft:"_2T3hc",floatRight:"_3pmDG","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",singleContainer:"_3Eie_ _6_Gu- _39F6U _2DKvn",thirdContainer:"_1ulF9 _6_Gu- _2cVF0 _1hITE _2DKvn",single:"_80hLe",third:"_1YEV-",placeholderAnimation:"_6bXJE",photoInfo:"_2UiKr",leftActions:"OJ6Md _2T3hc",user:"_2dxDA",rightActions:"Z8ES6 _3pmDG",userPlaceholder:"_3WZQi",likeButtonPlaceholder:"_2b_eh",addToCollectionButtonPlaceholder:"_3WdH3",downloadButtonPlaceholder:"_2oX-1"}},1655:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1656);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1656:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SortableFeed=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(2),c=o(u),s=n(1),d=o(s),f=n(11),p=n(18),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(p),m=n(34),_=n(298),v=n(208),y=o(v),b=n(1581),g=o(b),w=n(1583),P=o(w),k=n(1515),C=o(k),E=n(515),O=o(E),T={photos:c.default.arrayOf(c.default.object).isRequired,showPlaceholder:c.default.bool,handleFetch:c.default.func.isRequired,handleFetchResponse:c.default.func.isRequired,photoFeed:c.default.shape({lastPageFetched:c.default.number,maxPage:c.default.number,orderBy:c.default.oneOf(["latest","popular","oldest"]),perPage:c.default.number}).isRequired,endContent:c.default.element,location:c.default.object.isRequired,preferredGrid:c.default.string.isRequired,setPreferredGrid:c.default.func.isRequired},N={handleFetch:null,showPlaceholder:!1},M=t.SortableFeed=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.handleFetchError=n.handleFetchError.bind(n),n}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,n=e.preferredGrid,o=e.setPreferredGrid,r=(0,m.getLocationQuery)(t).grid;r&&r!==n&&o(r)}},{key:"componentWillReceiveProps",value:function(e){var t=e.preferredGrid,n=e.photoFeed.orderBy,o=t!==this.props.preferredGrid,r=n!==this.props.photoFeed.orderBy;this.setState({shouldResetFeedContents:o||r})}},{key:"handleFetchError",value:function(e){y.default.captureException(e,{tags:{component:"SortableFeed"}})}},{key:"render",value:function(){var e=this.props,t=e.showPlaceholder,n=e.photos,o=e.preferredGrid,r=e.photoFeed,a=e.handleFetch,l=e.handleFetchResponse,i=e.endContent,u=r.lastPageFetched,c=r.maxPage,s=r.perPage,f=r.orderBy;if(t)return d.default.createElement(P.default,{preferredGrid:o});var p={nextPage:u+1,perPage:s,orderBy:f},h=u>c;return d.default.createElement(C.default,{handleFetch:a,handleFetchArgs:p,handleFetchResponse:l,handleFetchError:this.handleFetchError,shouldResetFeedContents:this.state.shouldResetFeedContents,isDoneFetching:h},d.default.createElement(g.default,{photos:n,feedFooter:h?i:d.default.createElement(O.default,null)}))}}]),t}(s.Component);M.displayName="SortableFeed",M.propTypes=T,M.defaultProps=N;var S=function(e){return{preferredGrid:(0,_.getPreferredGrid)(e)}},j={setPreferredGrid:h.setPreferredGrid};t.default=(0,f.connect)(S,j)(M)},1664:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.VIEW_MORE_ARROW_LIMIT=3,t.MAXIMUM_TITLE_TAGS_COUNT=4,t.MAXIMUM_RELATED_SEARCHES_COUNT=12},1695:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1696);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1696:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=o(r),l=n(1),i=o(l),u=n(25),c=n(535),s=o(c),d={curated:a.default.bool.isRequired,publishedAt:a.default.string,totalPhotos:a.default.number},f=function(e){var t=e.curated,n=e.publishedAt,o=e.totalPhotos;return t?i.default.createElement("span",null,(0,u.formatDate)(new Date(n))):i.default.createElement("span",null,i.default.createElement(s.default,{number:o})," ",(0,u.pluralizePhoto)(o))};f.propTypes=d,t.default=f},1697:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1698);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1698:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=o(r),l=n(1572),i=o(l),u=n(1699),c=o(u),s=function(e){var t=e.relatedCollections,n=e.heading;return 0===t.length?null:a.default.createElement("div",null,a.default.createElement("div",{className:c.default.clearfix},a.default.createElement("p",{className:c.default.heading},n)),a.default.createElement("div",{className:c.default.flexFeed},t.map(function(e,t){return a.default.createElement(i.default,{key:t,collection:e})})))};s.displayName="RelatedCollections",t.default=s},1699:function(e,t){e.exports={fontWeightNormal:"_27Bp2",gutterContainer:"_2npM8",clearfix:"yruyo",contentContainer:"_33G6- _2npM8",heading:"_2gjZV _33G6- _2npM8",flexFeed:"_3b8t6"}},1700:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1701);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1701:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),l=o(a),i=n(517),u=o(i),c=n(1),s=o(c),d=n(1664),f=n(518),p=n(540),h=o(p),m=n(1702),_=o(m),v={headingCopy:"Related searches",showHeading:!1,hideOnMobile:!1},y=function(e){var t=e.showHeading,n=e.keywords,o=e.hideOnMobile,a=e.headingCopy,i=(0,u.default)(n,d.MAXIMUM_RELATED_SEARCHES_COUNT);return 0===i.length?s.default.createElement("div",null):s.default.createElement("div",{className:(0,l.default)(_.default.container,r({},_.default.hideOnMobile,o))},t&&s.default.createElement("p",{className:_.default.heading},a),s.default.createElement("div",{className:_.default.tagsContainer},i.map(function(e){return s.default.createElement(h.default,{key:e.title,title:e.title,backgroundImage:e.url,size:p.TagSize.small,className:_.default.tagOverrides,emplacement:f.TagEmplacement.Related})})))};y.displayName="RelatedTags",y.defaultProps=v,t.default=y},1702:function(e,t){e.exports={"--sm-min":"(--sm-min)",clearfix:"_2KLco",mxn2:"_3hepI",containerLayout:"PrOBO",gutterContainer:"_2npM8",fontWeightNormal:"_27Bp2",container:"_3w_cF _2npM8 PrOBO",heading:"_2azK- _27Bp2",hideOnMobile:"_1Co2N",tagsContainer:"_18n5E",tagOverrides:"qr8Tb"}},1703:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1704);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1704:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e){switch(e){case"likes":return"No liked photos :(";case"collections":return"No collections :(";default:return"No photos yet :("}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),l=o(a),i=n(1),u=o(i),c=n(1705),s=o(c),d={page:l.default.oneOf(["likes","collections"])},f=function(e){var t=e.page;return u.default.createElement("div",{className:s.default.container},r(t))};f.propTypes=d,t.default=f},1705:function(e,t){e.exports={"--sm-min":"(--sm-min)",container:"_3YyA_"}},1706:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.checkUsersAreEqual=function(e){return function(t){return e.username===t.username}}},1776:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionPhotos=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(20),c=n(565),s=o(c),d=n(2),f=o(d),p=n(1),h=o(p),m=n(297),_=o(m),v=n(11),y=n(18),b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(y),g=n(25),w=n(202),P=n(98),k=n(60),C=n(29),E=n(19),O=n(51),T=n(539),N=n(146),M=n(309),S=n(121),j=n(68),L=o(j),B=n(69),R=n(59),F=o(R),I=n(1695),U=o(I),x=n(1777),A=o(x),D=n(1780),W=o(D),G=n(1545),H=o(G),q=n(1498),K=o(q),z=n(1489),V=o(z),X=n(33),Y=o(X),Q=n(1541),J=o(Q),Z=n(1782),$=o(Z),ee=n(1655),te=o(ee),ne=n(531),oe=o(ne),re=n(1488),ae=o(re),le=n(1703),ie=o(le),ue=n(1786),ce=n(1787),se=o(ce),de=n(1788),fe=(0,P.normalizeResponse)("photoFeed"),pe=(0,P.normalizeResponse)("collection"),he={router:f.default.object.isRequired},me=t.CollectionPhotos=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchCollection=function(e){var t=n.context.router.history.replace,o=e.unsetSelectedCollection,r=e.updateData,a=e.setSelectedCollection,l=n.getCollectionInfoFromRoute(e),i=l.shareKey,u=l.id;(l.isCurated?L.default.collections.getCuratedCollection:L.default.custom.getCollection)(u,i).then(B.handleApiFetchResponse).then(pe).then(function(t){var l=t.entities,i=t.result;o(),n.mounted&&(r(l),a(i),n.fetchCollectionPhotos(e))}).catch((0,k.handleClientSideError)(t))},n.fetchCollectionPhotos=function(e){var t=e.updateData,o=e.resetPhotoFeed,r=e.photoFeed,a=r.orderBy,l=r.perPage,i=n.getCollectionInfoFromRoute(e),c=i.shareKey,s=i.id,d=i.isCurated,f=d?L.default.collections.getCuratedCollectionPhotos:L.default.custom.getCollectionPhotos,p=void 0;f(s,1,2*l,a,c).then(function(e){var t=u.Option.of(e.headers.get("x-total")),n=d?1:t.map(Number.parseFloat).getOrElse(0);return p=Math.ceil(n/l),e}).then(B.handleApiFetchResponse).then(fe).then(function(r){var i=r.entities,u=r.result;n.mounted&&(n.setState({showFeedPlaceholder:!1}),t(i),o({photoIds:u,lastPageFetched:2,maxPage:p,orderBy:a,perPage:l}),n.fetchRelatedCollectionContent(e))})},n.renderCollectionPhotos=function(e){var t=n.state,o=t.relatedKeywords,r=t.relatedCollections,a=t.showFeedPlaceholder,l=n.props,i=l.photoFeed,u=l.location,c=l.photos,s=(0,de.buildCollectionHeadTags)(e),d=s.title,f=s.canonicalUrl,p=s.meta;return h.default.createElement("div",null,h.default.createElement(_.default,{title:d,meta:p,link:(0,w.buildLinks)(f)}),n.renderHeader(e),h.default.createElement(H.default,{leftChild:n.renderFeedNavChild(e)}),e.total_photos>0?h.default.createElement(te.default,{showPlaceholder:a,photos:c,photoFeed:i,handleFetch:n.handleFetch,handleFetchResponse:n.handleFetchResponse,location:u}):h.default.createElement(ie.default,null),h.default.createElement($.default,{relatedCollections:r,relatedKeywords:o}),h.default.createElement(V.default,null),n.renderEditCollectionModal(e))},n.state={showFeedPlaceholder:!0,relatedCollections:[],relatedKeywords:[]},n.handleFetch=n.handleFetch.bind(n),n.handleFetchResponse=n.handleFetchResponse.bind(n),n}return l(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0,window.scrollTo(0,0),this.fetchCollection(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=e.match.params,n=t.id,o=this.props,r=o.resetPhotoFeed;o.match.params.id!==n&&(this.setState({showFeedPlaceholder:!0}),r(),this.fetchCollection(e))}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props,t=e.resetPhotoFeed,n=e.unsetSelectedCollection;t(),n()}},{key:"getCollectionInfoFromRoute",value:function(e){var t=e.match,n=e.location,o=t.params,r=o.shareKey,a=o.id,l=(0,ue.testUrlForCurated)(n.pathname);return{shareKey:r,id:Number.parseInt(a,10),isCurated:l}}},{key:"fetchRelatedCollectionContent",value:function(e){var t=this,n=this.getCollectionInfoFromRoute(e),o=n.isCurated,r=n.id,a=n.shareKey;if(o){if(o&&r>=4){var l=(0,s.default)(1,4).map(function(e){return L.default.collections.getCuratedCollection(r-e).then(B.handleApiFetchResponse)});Promise.all(l).then(function(e){t.setState({relatedCollections:e})})}}else L.default.custom.getRelatedCollectionContent(r,a).then(B.handleApiFetchResponse).then(function(e){var n=e.related_collections,o=e.related_keywords;t.setState({relatedCollections:n,relatedKeywords:o})})}},{key:"handleFetch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"latest",o=this.props,r=o.selectedCollection,a=o.location;return r?((0,ue.testUrlForCurated)(a.pathname)?L.default.collections.getCuratedCollectionPhotos:L.default.custom.getCollectionPhotos)(r.id,e,t,n,r.share_key).then(B.handleApiFetchResponse).then(fe):new Promise(function(e){return e({})})}},{key:"handleFetchResponse",value:function(e){var t=e.entities,n=e.result,o=this.props,r=o.updateData,a=o.addPhotosToPhotoFeed,l=o.location,i=o.photoFeed;(0,g.trackPageView)(l),r(t),a({photoIds:n,lastPageFetched:i.lastPageFetched+1})}},{key:"renderEditButton",value:function(e){var t=this.props,n=t.location,o=t.authUser;return(0,ue.checkCanEditCollection)({selectedCollection:e,authUser:o})?h.default.createElement(F.default,{buttonType:"outline",buttonSize:"small",className:se.default.editButton,tag:"link",to:{pathname:n.pathname,search:(0,E.buildSearchFromQuery)({edit_collection_view:"is_visible"})}},"Edit"):void 0}},{key:"renderEditCollectionModal",value:function(e){var t=this.props,n=t.location,o=t.authUser;return(0,ue.checkCanEditCollection)({selectedCollection:e,authUser:o})?h.default.createElement(W.default,{location:n,collection:e}):void 0}},{key:"renderTitleElement",value:function(e){return h.default.createElement("div",{className:se.default.titleContainer},e.private?h.default.createElement("span",{className:se.default.isPrivateContainer},h.default.createElement(oe.default,{className:se.default.isPrivateTooltip,label:"This collection is private. To share, copy the URL or make the collection public.",width:200},h.default.createElement(Y.default,{type:C.SvgType.lock,className:se.default.isPrivate}))):null,(0,g.buildCollectionTitle)(e))}},{key:"renderCuratedDownloadButton",value:function(e){var t=this.props.trackCollectionDownloadButtonClick;return h.default.createElement(F.default,{buttonSize:"small",tag:"a",href:e.links.download,className:se.default.downloadCollectionButton,download:!0,target:"_blank",track:function(){t(e)}},h.default.createElement(Y.default,{type:C.SvgType.download,className:se.default.downloadCollectionButtonIcon}),"Download collection")}},{key:"renderHeaderContent",value:function(e){var t=e.curated,n=e.description,o=e.user,r=t?se.default.curatedCollectionDescription:se.default.description;return h.default.createElement("div",null,u.Option.of(n).mapN(function(e){return h.default.createElement("h2",{className:r},e)}).orUndefined(),h.default.createElement(ae.default,{includeAvatar:!0,user:o}),h.default.createElement("div",{className:se.default.rightSideButtons},t?this.renderCuratedDownloadButton(e):null,this.renderEditButton(e),h.default.createElement(K.default,{className:se.default.followButton,selectedUser:e.user,buttonType:"collector"})))}},{key:"renderHeader",value:function(e){var t=this.props,n=t.windowWidth,o=t.pixelRatio,r=this.renderTitleElement(e),a=(0,ue.getHeaderStyle)({selectedCollection:e,pixelRatio:o,windowWidth:n});return h.default.createElement("div",{className:se.default.containerCoverPhoto,style:a},h.default.createElement("div",{className:se.default.clearfix},h.default.createElement(J.default,{title:r,className:se.default.collectionPageHeader},this.renderHeaderContent(e))))}},{key:"renderFeedNavChild",value:function(e){return h.default.createElement(U.default,{curated:e.curated,publishedAt:e.published_at,totalPhotos:e.total_photos})}},{key:"render",value:function(){var e=this.props.selectedCollection;return u.Option.of(e).map(this.renderCollectionPhotos).getOrElseL(function(){return h.default.createElement("div",null,h.default.createElement(A.default,null),h.default.createElement(H.default,null),h.default.createElement(ie.default,null))})}}]),t}(p.Component);me.contextTypes=he;var _e=function(e){return{photoFeed:(0,T.getPhotoFeed)(e),authUser:(0,O.getAuthUser)(e),windowWidth:(0,S.getWindowWidth)(e),pixelRatio:(0,N.getPixelRatio)(e),photos:(0,T.getDenormalizedPhotos)(e),selectedCollection:(0,M.getDenormalizedSelectedCollection)(e)}},ve={resetPhotoFeed:b.resetPhotoFeed,unsetSelectedCollection:b.unsetSelectedCollection,updateData:b.updateData,setSelectedCollection:b.setSelectedCollection,addPhotosToPhotoFeed:b.addPhotosToPhotoFeed,trackCollectionDownloadButtonClick:b.trackCollectionDownloadButtonClick};t.default=(0,v.connect)(_e,ve)(me)},1777:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1778);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1778:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=o(r),l=n(1779),i=o(l),u=function(){return a.default.createElement("div",{className:i.default.container},a.default.createElement("div",{className:i.default.titlePlaceholder}),a.default.createElement("div",{className:i.default.descriptionPlaceholder}),a.default.createElement("div",{className:i.default.userPlaceholder}))};u.displayName="CollectionHeaderPlaceholder",t.default=u},1779:function(e,t){e.exports={container:"_3t97C _2sCnE PrOBO _1CR66","--sm-min":"(--sm-min)",colorLightGrey:"#ddd",titlePlaceholder:"_8tWrp",descriptionPlaceholder:"_2xxbt",userPlaceholder:"_3d2ry",placeholderAnimation:"_2zk9y"}},1780:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1781);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1781:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return function(){e&&t.history.push({pathname:n.pathname})}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),l=o(a),i=n(1),u=o(i),c=n(34),s=n(315),d=o(s),f=n(155),p=o(f),h=n(582),m=o(h),_={location:l.default.object.isRequired,collection:l.default.object},v={router:l.default.object.isRequired},y=function(e,t){var n=e.location,o=e.collection,a=t.router,l="is_visible"===(0,c.getLocationQuery)(n).edit_collection_view;return u.default.createElement(p.default,{isVisible:l,handleDismiss:r(l,a,n),className:m.default.container},u.default.createElement(d.default,{location:n,collection:o}))};y.displayName="EditCollectionModal",y.propTypes=_,y.contextTypes=v,t.default=y},1782:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1783);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})},1783:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),a=o(r),l=n(1697),i=o(l),u=n(1700),c=o(u),s=n(1784),d=n(1785),f=o(d),p=function(e){var t=e.relatedCollections,n=e.relatedKeywords;return a.default.createElement("div",{className:f.default.endContent,"data-test":s.TEST_ATTRIBUTE},a.default.createElement(i.default,{relatedCollections:t,heading:"You might also like"}),a.default.createElement(c.default,{keywords:n,showHeading:!0}))};p.displayName="RelatedCollectionContent",t.default=p},1784:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TEST_ATTRIBUTE="related-collection-content"},1785:function(e,t){e.exports={"--sm-min":"(--sm-min)",containerLayout:"PrOBO",endContent:"Xyizi PrOBO"}},1786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkCanEditCollection=t.getHeaderStyle=t.testUrlForCurated=void 0;var o=n(20),r=n(25),a=n(1706),l=n(75);t.testUrlForCurated=function(e){return e.startsWith("/collections/curated/")},t.getHeaderStyle=function(e){var t=e.selectedCollection,n=e.pixelRatio,o=e.windowWidth,a=t.cover_photo;if(a){var i=(0,l.getImageWidthFromParentWidth)({parentWidth:o,isMasonry:!1,maxWidth:1600}),u=(0,r.buildImgixUrlDEPRECATED)({url:a.urls.raw,width:String(i),height:String(500),pixelRatio:n});return{backgroundImage:(0,r.urlToBackgroundImage)(u)}}return{}},t.checkCanEditCollection=function(e){var t=e.selectedCollection,n=e.authUser;return o.Option.of(n).map(function(e){return!t.curated&&(0,a.checkUsersAreEqual)(t.user)(e)}).getOrElse(!1)}},1787:function(e,t){e.exports={clearfix:"_2VAYc _2KLco",mb3:"_34FIs","--xs-max":"(--xs-max)","--sm-min":"(--sm-min)","--md-min":"(--md-min)",fontWeightNormal:"_27Bp2",truncate:"_1ByhS",bodyCopy:"_1iWCF",colorGrey:"#999",containerCoverPhoto:"_32aFj",curatorContainer:"_1DOGe",curatedCollectionDescription:"_2hNoJ _34FIs _27Bp2 _1iWCF",description:"_16bz5 _27Bp2 _1iWCF",rightSideButtons:"_2tn4J",titleContainer:"_1eMK-",isPrivateContainer:"w3ekM",isPrivate:"_2A7h_",isPrivateTooltip:"Gnryf _27Bp2",downloadCollectionButtonIcon:"_2B4Hr",editButton:"_2Oyx0",downloadCollectionButton:"_1fh9z",followButton:"_1qDK4"}},1788:function(e,t,n){"use strict";function o(e){return"https://unsplash.com"+e}Object.defineProperty(t,"__esModule",{value:!0}),t.buildCollectionHeadTags=void 0,t.buildCanonical=o;var r=n(202),a=n(1789),l=n(1790);t.buildCollectionHeadTags=function(e){var t=e.curated,n=e.cover_photo,i=e.user,u=e.total_photos,c=o((0,r.buildCollectionUrl)(e)),s=t?(0,l.curatedCollectionTitle)(u,i.name):(0,l.collectionTitle)(u,e),d=t?(0,a.curatedCollectionDescription)(u,i.name):(0,a.collectionDescription)(u,i.name,e.title);return{title:s,meta:(0,r.buildCollectionMetas)(n,s,d||"",c),canonicalUrl:c}}},1789:function(e,t,n){"use strict";function o(){return"See the "+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:10)+" best free high-resolution photos officially curated by "+arguments[1]+". These HD images are free to use for commercial projects."}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1];return"See the best "+e+" free high-resolution photos of "+arguments[2]+" selected by "+t+". These HD images are free to use for commercial projects."}Object.defineProperty(t,"__esModule",{value:!0}),t.curatedCollectionDescription=o,t.collectionDescription=r},1790:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return arguments[1]+"'s Collection of "+e+" Free HD Photos on Unsplash"}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1],n=e>=100?"100+":e;return t.title+" | "+n+" best free"+d(t.keywords)+" photos on Unsplash"}Object.defineProperty(t,"__esModule",{value:!0}),t.curatedCollectionTitle=r,t.collectionTitle=a;var l=n(1791),i=o(l),u=n(517),c=o(u),s=n(1664),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===e.length?"":" "+(0,i.default)("and",(0,c.default)(e,s.MAXIMUM_TITLE_TAGS_COUNT))}},1791:function(e,t){e.exports=function(e,t,n){if(!Array.isArray(t)||!e.toString)throw new TypeError;e=e.toString(),n=void 0===n||!!n;var o=t.length;if(0===o)throw new Error("Cannot create an English list of an empty array");if(1===o)return t[0].toString();if(2===o)return t[0].toString()+" "+e+" "+t[1].toString();var r=t.map(function(e){return e.toString()}),a=r.slice(0,o-1),l=r[o-1];return a.join(", ")+(n?", ":" ")+e+" "+l}},581:function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1776);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o(r).default}})}});
//# sourceMappingURL=collections-photos-route.main.ec645.js.map